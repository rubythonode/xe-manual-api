\hypertarget{classHTMLPurifier__Lexer__DOMLex}{\section{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex Class Reference}
\label{classHTMLPurifier__Lexer__DOMLex}\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
}
Inheritance diagram for H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classHTMLPurifier__Lexer__DOMLex}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_a0c5ad34f693df6e6ee52c582c8f12085}{\+\_\+\+\_\+construct} ()
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_a8f04a9cf657a93ce0c8be04703e420bf}{tokenize\+H\+T\+M\+L} (\$html, \$config, \$context)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_ae2e6da3ca735f2dc96ed168c3c1360e4}{mute\+Error\+Handler} (\$errno, \$errstr)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_a389e02879e6d1d2e634d447599d673c8}{callback\+Undo\+Comment\+Subst} (\$matches)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_a21737bf53ad6c628c6c2777c5451446a}{callback\+Armor\+Comment\+Entities} (\$matches)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_ae921401c6a1a96192c74f6dae9aead45}{tokenize\+D\+O\+M} (\$node, \&\$tokens)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_af46c88c31c1a1622e5673285649652db}{create\+Start\+Node} (\$node, \&\$tokens, \$collect)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_a3bac0ab4dc317519030dcc778452197f}{create\+End\+Node} (\$node, \&\$tokens)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_ae034cd442c154ff7e80edfb5816b501b}{transform\+Attr\+To\+Assoc} (\$node\+\_\+map)
\item 
\hyperlink{classHTMLPurifier__Lexer__DOMLex_a662e171325d18acfedf389b7bb91d9df}{wrap\+H\+T\+M\+L} (\$html, \$config, \$context)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Parser that uses P\+H\+P 5's D\+O\+M extension (part of the core).

In P\+H\+P 5, the D\+O\+M X\+M\+L extension was revamped into D\+O\+M and added to the core. It gives us a forgiving H\+T\+M\+L parser, which we use to transform the H\+T\+M\+L into a D\+O\+M, and then into the tokens. It is blazingly fast (for large documents, it performs twenty times faster than \hyperlink{classHTMLPurifier__Lexer__DirectLex}{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+Direct\+Lex},and is the default choice for P\+H\+P 5.

\begin{DoxyNote}{Note}
Any empty elements will have empty tokens associated with them, even if this is prohibited by the spec. This is cannot be fixed until the spec comes into play.

P\+H\+P's D\+O\+M extension does not actually parse any entities, we use our own function to do that.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
D\+O\+M tends to drop whitespace, which may wreak havoc on indenting. If this is a huge problem, due to the fact that H\+T\+M\+L is hand edited and you are unable to get a parser cache that caches the the output of H\+T\+M\+L \hyperlink{classPurifier}{Purifier} while keeping the original H\+T\+M\+L lying around, you may want to run Tidy on the resulting output or use H\+T\+M\+L\+Purifier\+\_\+\+Direct\+Lex 
\end{DoxyWarning}


Definition at line 27 of file D\+O\+M\+Lex.\+php.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classHTMLPurifier__Lexer__DOMLex_a0c5ad34f693df6e6ee52c582c8f12085}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{\+\_\+\+\_\+construct}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::\+\_\+\+\_\+construct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classHTMLPurifier__Lexer__DOMLex_a0c5ad34f693df6e6ee52c582c8f12085}


Definition at line 32 of file D\+O\+M\+Lex.\+php.



\subsection{Member Function Documentation}
\hypertarget{classHTMLPurifier__Lexer__DOMLex_a21737bf53ad6c628c6c2777c5451446a}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!callback\+Armor\+Comment\+Entities@{callback\+Armor\+Comment\+Entities}}
\index{callback\+Armor\+Comment\+Entities@{callback\+Armor\+Comment\+Entities}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{callback\+Armor\+Comment\+Entities}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::callback\+Armor\+Comment\+Entities (
\begin{DoxyParamCaption}
\item[{}]{\$matches}
\end{DoxyParamCaption}
)}}\label{classHTMLPurifier__Lexer__DOMLex_a21737bf53ad6c628c6c2777c5451446a}
Callback function that entity-\/izes ampersands in comments so that callback\+Undo\+Comment\+Subst doesn't clobber them 

Definition at line 216 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_a389e02879e6d1d2e634d447599d673c8}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!callback\+Undo\+Comment\+Subst@{callback\+Undo\+Comment\+Subst}}
\index{callback\+Undo\+Comment\+Subst@{callback\+Undo\+Comment\+Subst}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{callback\+Undo\+Comment\+Subst}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::callback\+Undo\+Comment\+Subst (
\begin{DoxyParamCaption}
\item[{}]{\$matches}
\end{DoxyParamCaption}
)}}\label{classHTMLPurifier__Lexer__DOMLex_a389e02879e6d1d2e634d447599d673c8}
Callback function for undoing escaping of stray angled brackets in comments 

Definition at line 208 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_a3bac0ab4dc317519030dcc778452197f}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!create\+End\+Node@{create\+End\+Node}}
\index{create\+End\+Node@{create\+End\+Node}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{create\+End\+Node}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::create\+End\+Node (
\begin{DoxyParamCaption}
\item[{}]{\$node, }
\item[{\&}]{\$tokens}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classHTMLPurifier__Lexer__DOMLex_a3bac0ab4dc317519030dcc778452197f}


Definition at line 176 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_af46c88c31c1a1622e5673285649652db}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!create\+Start\+Node@{create\+Start\+Node}}
\index{create\+Start\+Node@{create\+Start\+Node}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{create\+Start\+Node}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::create\+Start\+Node (
\begin{DoxyParamCaption}
\item[{}]{\$node, }
\item[{\&}]{\$tokens, }
\item[{}]{\$collect}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classHTMLPurifier__Lexer__DOMLex_af46c88c31c1a1622e5673285649652db}

\begin{DoxyParams}{Parameters}
{\em \$node} & D\+O\+M\+Node to be tokenized. \\
\hline
{\em \$tokens} & Array-\/list of already tokenized tokens. \\
\hline
{\em \$collect} & Says whether or start and close are collected, set to false at first recursion because it's the implicit D\+I\+V tag you're dealing with. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool if the token needs an endtoken 
\end{DoxyReturn}


Definition at line 119 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_ae2e6da3ca735f2dc96ed168c3c1360e4}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!mute\+Error\+Handler@{mute\+Error\+Handler}}
\index{mute\+Error\+Handler@{mute\+Error\+Handler}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{mute\+Error\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::mute\+Error\+Handler (
\begin{DoxyParamCaption}
\item[{}]{\$errno, }
\item[{}]{\$errstr}
\end{DoxyParamCaption}
)}}\label{classHTMLPurifier__Lexer__DOMLex_ae2e6da3ca735f2dc96ed168c3c1360e4}
An error handler that mutes all errors 

Definition at line 202 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_ae921401c6a1a96192c74f6dae9aead45}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!tokenize\+D\+O\+M@{tokenize\+D\+O\+M}}
\index{tokenize\+D\+O\+M@{tokenize\+D\+O\+M}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{tokenize\+D\+O\+M}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::tokenize\+D\+O\+M (
\begin{DoxyParamCaption}
\item[{}]{\$node, }
\item[{\&}]{\$tokens}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classHTMLPurifier__Lexer__DOMLex_ae921401c6a1a96192c74f6dae9aead45}
Iterative function that tokenizes a node, putting it into an accumulator. To iterate is human, to recurse divine -\/ L. Peter Deutsch 
\begin{DoxyParams}{Parameters}
{\em \$node} & D\+O\+M\+Node to be tokenized. \\
\hline
{\em \$tokens} & Array-\/list of already tokenized tokens. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Tokens of node appended to previously passed tokens. 
\end{DoxyReturn}


Definition at line 81 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_a8f04a9cf657a93ce0c8be04703e420bf}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!tokenize\+H\+T\+M\+L@{tokenize\+H\+T\+M\+L}}
\index{tokenize\+H\+T\+M\+L@{tokenize\+H\+T\+M\+L}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{tokenize\+H\+T\+M\+L}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::tokenize\+H\+T\+M\+L (
\begin{DoxyParamCaption}
\item[{}]{\$html, }
\item[{}]{\$config, }
\item[{}]{\$context}
\end{DoxyParamCaption}
)}}\label{classHTMLPurifier__Lexer__DOMLex_a8f04a9cf657a93ce0c8be04703e420bf}


Definition at line 38 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_ae034cd442c154ff7e80edfb5816b501b}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!transform\+Attr\+To\+Assoc@{transform\+Attr\+To\+Assoc}}
\index{transform\+Attr\+To\+Assoc@{transform\+Attr\+To\+Assoc}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{transform\+Attr\+To\+Assoc}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::transform\+Attr\+To\+Assoc (
\begin{DoxyParamCaption}
\item[{}]{\$node\+\_\+map}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classHTMLPurifier__Lexer__DOMLex_ae034cd442c154ff7e80edfb5816b501b}
Converts a D\+O\+M\+Named\+Node\+Map of D\+O\+M\+Attr objects into an assoc array.


\begin{DoxyParams}{Parameters}
{\em \$attribute\+\_\+list} & D\+O\+M\+Named\+Node\+Map of D\+O\+M\+Attr objects. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Associative array of attributes. 
\end{DoxyReturn}


Definition at line 187 of file D\+O\+M\+Lex.\+php.

\hypertarget{classHTMLPurifier__Lexer__DOMLex_a662e171325d18acfedf389b7bb91d9df}{\index{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}!wrap\+H\+T\+M\+L@{wrap\+H\+T\+M\+L}}
\index{wrap\+H\+T\+M\+L@{wrap\+H\+T\+M\+L}!H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex@{H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex}}
\subsubsection[{wrap\+H\+T\+M\+L}]{\setlength{\rightskip}{0pt plus 5cm}H\+T\+M\+L\+Purifier\+\_\+\+Lexer\+\_\+\+D\+O\+M\+Lex\+::wrap\+H\+T\+M\+L (
\begin{DoxyParamCaption}
\item[{}]{\$html, }
\item[{}]{\$config, }
\item[{}]{\$context}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classHTMLPurifier__Lexer__DOMLex_a662e171325d18acfedf389b7bb91d9df}
Wraps an H\+T\+M\+L fragment in the necessary H\+T\+M\+L 

Definition at line 223 of file D\+O\+M\+Lex.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
classes/security/htmlpurifier/library/\+H\+T\+M\+L\+Purifier/\+Lexer/\hyperlink{DOMLex_8php}{D\+O\+M\+Lex.\+php}\end{DoxyCompactItemize}
