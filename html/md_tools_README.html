<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>XpressEngine Core: Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XpressEngine Core
   &#160;<span id="projectnumber">1.7.5.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tools </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Build</h2>
<p>XE패키징을 위해 grunt.js를 이용한 Task로 작성되어 있으며 *nix 환경에서 Node를 구동할 수 있어야 한다.</p>
<h3>의존 패키지 설치 (Mac)</h3>
<h3>1. brew</h3>
<p><a href="http://brew.sh">http://brew.sh</a> 페이지의 'Install Homebrew'를 참고하여 설치</p>
<h3>2. node.js</h3>
<blockquote class="doxtable">
<p>brew install node </p>
</blockquote>
<h3>3. grunt-cli</h3>
<blockquote class="doxtable">
<p>npm install -g grunt-cli </p>
</blockquote>
<h2>node 모듈 설치</h2>
<p>grunt task 수행에 필요한 node 모듈의 설치를 먼저 수행한다.</p>
<p>XE 패키지의 루트… index.php 또는 Gruntfile.js 파일이 있는 곳에서 다음 명령으로 의존 모듈이 자동 설치된다.</p>
<blockquote class="doxtable">
<p>npm install </p>
</blockquote>
<h2>Build</h2>
<p>build 수행 전 Minified 파일이 갱신되도록 패키징 하려는 브랜치에서 아래 Task 중 <code>grunt minify</code>를 반드시 먼저 수행하도록 한다.</p>
<p>build 명령으로 zip, tgz 포맷으로 패키징을 수행하며 지정한 대상의 변경된 파일만을 묶은 changed 파일을 함께 생성한다.</p>
<blockquote class="doxtable">
<p>grunt build<code>:from</code>:<code>to</code> </p>
</blockquote>
<p><code>from</code>, <code>to</code>에는 commit hash 또는 tag, branch를 지정할 수 있다. 패키지는 <code>to</code>에 지정한 대상을 기준으로하며 <code>from</code>과 <code>to</code>사이에 변경된 파일들 changed 파일을 별도로 생성한다.</p>
<blockquote class="doxtable">
<p>grunt build:<code>old_tag</code>:<code>current_tag</code> </p>
</blockquote>
<p>이와 같이 지정하면 <code>old_tag</code>로부터 <code>current_tag</code> 사이의 변경된 파일만을 묶은 <code>xe.current_tag.changed.*</code> 파일과 <code>xe.current_tag.*</code>파일을 생성한다.</p>
<p><code>from</code>을 생략하여 <code>build:master</code>(master는 branch이다)와 같이 지정하면 <code>master</code>의 최신 상태로 빌드하며 changed 파일을 생성하지 않는다.</p>
<h3>Build 수행 시 포함하는 패키지</h3>
<p>Build 수행 시 일부 확장 기능을 가져와 함게 패키징한다. 지정한 각 저장소의 master 브랜치로부터 코드를 가져오므로 <b>Build 수행 전에 각 저장소의 master 상태를 확인하도록 한다.</b></p>
<ul>
<li>board 모듈<ul>
<li><a href="https://github.com/xpressengine/xe-module-board">https://github.com/xpressengine/xe-module-board</a></li>
</ul>
</li>
<li>krzip 모듈<ul>
<li><a href="https://github.com/xpressengine/xe-module-krzip">https://github.com/xpressengine/xe-module-krzip</a></li>
</ul>
</li>
<li>syndication 모듈<ul>
<li><a href="https://github.com/xpressengine/xe-module-syndication">https://github.com/xpressengine/xe-module-syndication</a></li>
</ul>
</li>
</ul>
<h2>Task</h2>
<p>.js, .css, .php 파일들에 대해 문법 검사 및 권장 코드를 확인할 수 있으며 minify 등의 작업을 수행할 수 있다.</p>
<h3>Lint</h3>
<p>.js, .css, .php 파일에 대해 문법 검사 등을 수행한다. </p><blockquote class="doxtable">
<p>grunt lint </p>
</blockquote>
<p>다음과 같이 선택적으로 수행할 수 있다.</p>
<h4>JS Lint (jshint)</h4>
<p><code>lint</code>가 아닌 <code>hint</code>임에 주의. </p><blockquote class="doxtable">
<p>grunt jshint </p>
</blockquote>
<h4>CSS Lint</h4>
<blockquote class="doxtable">
<p>grunt csslint </p>
</blockquote>
<h3>Minify</h3>
<p>.js, .css 파일의 공백을 지우는 등 minify 동작을 수행할 수 있으며 대상은 Gruntfile.js 파일에 정의되어 있다.</p>
<blockquote class="doxtable">
<p>grunt minify</p>
</blockquote>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 7 2014 10:44:28 for XpressEngine Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
